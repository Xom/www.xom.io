<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>D&amp;DG Bartender probabilities</title>
    <style>
      body {
        font-family: sans-serif;
        padding: 1em;
      }
      .disabled {
        opacity: 0.5;
        pointer-events: none;
      }
      table {
        border-collapse: collapse;
        margin-bottom: 2em;
      }
      th, td {
        border: 1px solid #ccc;
        padding: 0.25em;
        text-align: center;
      }
      .pie-cell canvas {
        display: block;
        margin: auto;
        background-color: lightgrey;
      }

#gamestateTable th {
  text-align: right;
  padding-left: 0.75em;
  padding-right: 0.75em;
  font-weight: normal; /* Not bold */
  font-family: sans-serif;
}

.card-cell {
  width: 2.5em;
  height: 2em;
  text-align: center;
  vertical-align: middle;
  font-family: monospace;
  font-size: 1.5em;
  border: 1px solid #ccc;
  font-weight: bold; /* Bold for card cells */
}

/* Cells without the card (show preview) */
.empty-cell {
  cursor: pointer;
}

/* Preview text inside empty cells */
.preview {
  color: lightgrey;
  visibility: hidden;
}

/* Only show preview text on hover */
.empty-cell:hover .preview {
  visibility: visible;
}

#resultTablesContainer {
  display: flex;
  gap: 8em;
  margin-top: 1em;
}

#resultTablesContainer table {
  border-collapse: collapse;
}
    </style>
  </head>
  <body>
    <h2 style="margin-top: 0">D&amp;DG Bartender probabilities</h2>
    <p id="intro" style="max-width: 64em">
      Click the table cells to specify the locations of the cards.<br><br>(The Loyalty Card's ability is not implemented, considering that it's unlikely to trigger, but the 0 is there to represent it and remind you that it could be the next card, which, in theory, delays info about the outcome.)
    </p>

    <button id="initBtn">Initialize</button>

    <h2>Card locations (current score: <span id="currentScore">&lt;not initialized&gt;</span>)</h2>
    <table id="gamestateTable" class="disabled">
    <tbody id="gamestateRows">
        <!-- Three rows of 1+14 cells each: one per location -->
    </tbody>
    </table>

    <div id="resultTablesContainer">
      <div>
        <h2>By current hand outcome</h2>
        <table id="handOutcomeTable">
          <thead>
            <tr>
              <th>Outcome</th>
              <th>Current hand</th>
              <th>Next hand</th>
            </tr>
          </thead>
          <tbody id="outcomeRows"></tbody>
        </table>
      </div>

      <div>
        <h2>By next card dealt</h2>
        <table id="nextCardTable">
          <thead>
            <tr>
            <th style="width: 4em">Card</th>
            <th>Current hand</th>
            <th>Next hand</th>
            </tr>
          </thead>
          <tbody id="nextCardRows"></tbody>
        </table>
      </div>
    </div>

    <script type="text/javascript" src="bundle.js"></script>
  </body>
</html>
